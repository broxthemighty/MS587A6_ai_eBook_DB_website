<!-- ===============================================
     Matt Lindborg
     UAT MS587 Week 6 Assignment 6.1
     AI eBook & Audiobook Library - Dynamic homepage
     Purpose: Lists all eBooks with links to read, generate audio and new book, or listen
     Notes:
     - Fixed background from 'images/back.jpg'
     - Changed over to gemini ai for dynamic story generation
     - Updated styling to have a better overall UI, lighter blue
     - Updated to use database connection info instead of local files
     =============================================== -->
<!-- index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AI eBook & Audiobook Library</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <div class="container">
        <h1>üìò AI eBook & Audiobook Library</h1>
        <p>Matt Lindborg UAT MS587 Week 3 Assignment 3.1</p>
        <p>Github url for this site: https://github.com/broxthemighty/MS587A3_flask_gemini_eBook_website</p>
        <!-- Functional AI story generator -->
        <div class="ai-generator-info">
            <form action="{{ url_for('generate') }}" method="POST">
                <label for="theme"><strong>New Story Theme:</strong></label>
                <input type="text" name="theme" id="theme" placeholder="e.g. Desert Heist" required>
                <button type="submit">‚úçÔ∏è Generate New Story</button>
            </form>
        </div>

        <hr>

        <div class="book-list">
            {% for book in ebooks %}
            <div class="book-card">
                <h3>{{ book[1] }}</h3> <!-- title -->
                <p><strong>Author:</strong> {{ book[2] }}</p>
                <p><strong>Genre:</strong> {{ book[3] }}</p>
                <p><strong>Published:</strong> {{ book[4] }}</p>
                <p><strong>Avg Rating:</strong> {{ book[5]|round(1) if book[5] else "N/A" }} ({{ book[6] }} reviews)</p>
                <div class="actions">
                    <a href="{{ url_for('read', book_id=book[0]) }}">üìñ Read</a>
                    <a href="{{ url_for('audio', book_id=book[0]) }}">üîä Listen</a>
                    <a href="{{ url_for('static', filename='audio/book_' ~ book[0] ~ '.mp3') }}" download>‚¨á Download MP3</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>

</html>